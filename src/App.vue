<template>
<div>
    <!---Global Header-->
    <header class="text-gray-700 body-font border-b border-gray-300 ">
        <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center">
            <a href="https://wickedtemplates.com?ref=seychellesDemo" class="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0">
                <svg width="80" height="80" viewBox="0 0 312 311" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="156" cy="155.5" r="155.5" fill="white"></circle>
                    <path d="M92.5356 87.4287L153.536 80.8929L216.714 87.4287V187.643L157.893 224.679L92.5356 187.643V87.4287Z" fill="white"></path>
                    <path d="M92.065 84.1441L155.714 70L219.364 84.1441C221.084 84.5268 222.622 85.4839 223.725 86.8583C224.827 88.2327 225.429 89.9424 225.429 91.7046V169.064C225.428 176.715 223.539 184.247 219.928 190.993C216.317 197.739 211.097 203.489 204.731 207.732L155.714 240.412L106.698 207.732C100.332 203.489 95.1132 197.741 91.5021 190.996C87.8917 184.253 86.0019 176.721 86 169.072V91.7046C86 89.9424 86.6013 88.2327 87.7039 86.8583C88.8065 85.4839 90.345 84.5268 92.065 84.1441ZM101.492 97.9164V169.064C101.492 174.164 102.751 179.186 105.158 183.683C107.564 188.18 111.044 192.013 115.288 194.843L155.714 221.799L196.141 194.843C200.383 192.014 203.862 188.182 206.269 183.686C208.675 179.191 209.935 174.171 209.936 169.072V97.9164L155.714 85.8794L101.492 97.9164Z" fill="#0a165c"></path>
                    <path d="M166.324 148.027C167.005 148.027 167.494 148.175 167.79 148.471C168.116 148.767 168.279 149.152 168.279 149.626C168.279 150.396 168.042 151.077 167.568 151.669C167.124 152.261 166.413 152.572 165.436 152.602C163.097 152.632 160.995 152.454 159.129 152.069C157.056 156.481 154.554 160.152 151.623 163.084C148.721 165.986 145.849 167.436 143.007 167.436C140.401 167.436 138.447 166.06 137.144 163.306C135.841 160.523 135.101 156.806 134.923 152.158C133.146 157.31 131.133 161.144 128.883 163.661C126.662 166.178 124.293 167.436 121.776 167.436C118.934 167.436 116.787 165.675 115.336 162.151C113.885 158.598 113.16 153.831 113.16 147.85C113.16 143.497 113.545 138.715 114.315 133.504C114.522 132.023 114.892 131.002 115.425 130.439C115.988 129.847 116.861 129.551 118.045 129.551C118.934 129.551 119.615 129.743 120.089 130.128C120.592 130.513 120.844 131.224 120.844 132.26C120.844 132.467 120.814 132.867 120.755 133.459C119.866 139.529 119.422 144.696 119.422 148.96C119.422 152.928 119.763 155.992 120.444 158.154C121.125 160.315 122.043 161.396 123.198 161.396C124.234 161.396 125.478 160.315 126.928 158.154C128.409 155.963 129.875 152.735 131.325 148.471C132.776 144.178 134.005 139.07 135.012 133.148C135.249 131.786 135.678 130.853 136.3 130.35C136.951 129.817 137.825 129.551 138.92 129.551C139.838 129.551 140.505 129.758 140.919 130.172C141.363 130.557 141.585 131.15 141.585 131.949C141.585 132.423 141.556 132.793 141.496 133.059C140.667 137.886 140.253 142.712 140.253 147.539C140.253 150.825 140.356 153.446 140.564 155.4C140.801 157.354 141.23 158.85 141.852 159.886C142.503 160.893 143.436 161.396 144.65 161.396C146.071 161.396 147.655 160.33 149.402 158.198C151.149 156.037 152.748 153.357 154.199 150.159C152.393 149.034 151.031 147.583 150.113 145.806C149.195 144 148.736 141.928 148.736 139.588C148.736 137.249 149.091 135.28 149.802 133.681C150.542 132.053 151.534 130.839 152.778 130.039C154.051 129.24 155.457 128.84 156.997 128.84C158.892 128.84 160.388 129.521 161.483 130.883C162.608 132.245 163.171 134.111 163.171 136.479C163.171 139.825 162.445 143.541 160.995 147.627C162.505 147.894 164.281 148.027 166.324 148.027ZM153.222 139.277C153.222 142.179 154.155 144.326 156.02 145.718C157.175 142.401 157.752 139.662 157.752 137.501C157.752 136.257 157.589 135.354 157.264 134.792C156.938 134.199 156.494 133.903 155.931 133.903C155.132 133.903 154.48 134.377 153.977 135.325C153.474 136.242 153.222 137.56 153.222 139.277ZM199.182 130.35C200.1 130.528 200.781 130.839 201.225 131.283C201.699 131.727 201.936 132.245 201.936 132.837C201.936 133.814 201.655 134.525 201.092 134.969C200.559 135.413 199.7 135.591 198.516 135.502C195.851 135.295 193.764 135.162 192.253 135.102C190.773 135.014 188.819 134.954 186.391 134.925C185.295 140.373 184.288 145.851 183.371 151.358C183.045 153.372 182.704 155.711 182.349 158.376C181.994 161.011 181.757 163.143 181.638 164.772C181.579 165.63 181.224 166.296 180.572 166.77C179.921 167.214 179.136 167.436 178.218 167.436C177.241 167.436 176.486 167.2 175.953 166.726C175.42 166.252 175.154 165.63 175.154 164.86C175.154 164.15 175.257 162.98 175.465 161.352C175.702 159.693 175.968 157.961 176.264 156.155C176.59 154.349 176.842 152.78 177.019 151.447C177.345 149.197 177.715 146.961 178.13 144.74C178.544 142.52 178.959 140.417 179.373 138.434C179.462 137.989 179.566 137.486 179.684 136.923C179.803 136.331 179.936 135.68 180.084 134.969C177.182 135.058 174.902 135.295 173.244 135.68C171.586 136.065 170.401 136.613 169.691 137.323C169.01 138.004 168.669 138.893 168.669 139.988C168.669 140.995 168.965 141.957 169.558 142.875C169.676 143.082 169.735 143.304 169.735 143.541C169.735 144.104 169.395 144.637 168.714 145.14C168.062 145.614 167.381 145.851 166.671 145.851C166.167 145.851 165.753 145.703 165.427 145.407C164.835 144.903 164.346 144.193 163.961 143.275C163.576 142.327 163.384 141.261 163.384 140.077C163.384 137.56 164.198 135.547 165.827 134.037C167.485 132.497 169.987 131.372 173.333 130.661C176.708 129.95 181.031 129.595 186.302 129.595C189.559 129.595 192.15 129.654 194.074 129.773C196.029 129.891 197.731 130.084 199.182 130.35Z" fill="#0a165c"></path>
                </svg>
            </a>
            <nav class="md:ml-auto md:mr-auto flex flex-wrap items-center text-base justify-center">
            </nav>
            <a href="https://www.wickedtemplates.com/seychelles-details?ref=seychellesDemo">
                <button class="inline-flex hero_button items-center global-header border-0 py-1 px-3 focus:outline-none hover:bg-indigo-500 rounded text-white mt-4 md:mt-0">
                    Buy Now
                    <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1" viewBox="0 0 24 24">
                        <path d="M5 12h14M12 5l7 7-7 7"></path>
                    </svg>
                </button>
            </a>
        </div>
    </header>

    <!--- First Image -->
    <section class="text-black">
        <div class="container mx-auto flex px-5 pt-16 md:flex-row flex-col">

            <div class="lg:flex-grow md:w-1/2 lg:pr-24 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
                <h1 class="title-font sm:text-4xl text-3xl mb-4 font-medium text-black">
                    <span v-if="isUpdate">Update</span>
                    <span v-else>Add</span>
                    Book
                </h1>
                <form class="flex flex-col" @submit.prevent>
                    <div class="flex flex-col">
                        <label for="title" class="hidden">Title</label>
                        <input type="text" v-model="newBook.title" id="title" placeholder="Title" class="w-100 mt-2 py-3 px-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-700 text-gray-800 font-semibold focus:border-indigo-500 focus:outline-none">
                    </div>

                    <div class="flex flex-col mt-2">
                        <label for="edition" class="hidden">Edition</label>
                        <input type="text" v-model="newBook.edition" id="edition" placeholder="Edition" class="w-100 mt-2 py-3 px-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-700 text-gray-800 font-semibold focus:border-indigo-500 focus:outline-none">
                    </div>

                    <div class="flex flex-col mt-2">
                        <label for="author" class="hidden">Author(s)</label>
                        <input type="text" v-model="newBook.author" id="author" placeholder="Author(s)" class="w-100 mt-2 py-3 px-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-700 text-gray-800 font-semibold focus:border-indigo-500 focus:outline-none">
                    </div>

                    <div class="flex flex-col mt-2">
                        <label for="openUrl" class="hidden">Open Url</label>
                        <input type="text" v-model="newBook.openUrl" id="openUrl" placeholder="Open Url" class="w-100 mt-2 py-3 px-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-700 text-gray-800 font-semibold focus:border-indigo-500 focus:outline-none">
                    </div>

                    <button type="submit" @click="updateBook" v-if="isUpdate" class="md:w-32 bg-indigo-600 hover:bg-blue-dark text-white font-bold py-3 px-6 rounded-lg mt-3 hover:bg-indigo-500 transition ease-in-out duration-300">
                        Update Book
                    </button>
                    <button type="submit" @click="addNewBook" v-else class="md:w-32 bg-indigo-600 hover:bg-blue-dark text-white font-bold py-3 px-6 rounded-lg mt-3 hover:bg-indigo-500 transition ease-in-out duration-300">
                        Add Book
                    </button>
                </form>
            </div>

            <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6">

                <div class="flex bg-white shadow-lg rounded-lg m-4 " v-for="(book, index) in books" :key="index">
                    <!--horizantil margin is just for display md:mx-auto my-56 max-w-md md:max-w-2xl-->
                    <div class="flex items-start px-4 py-6">
                        <img class="w-12 h-12 rounded-full object-cover mr-4 shadow" src="https://images.unsplash.com/photo-1542156822-6924d1a71ace?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60" alt="avatar">
                        <div class="">
                            <div class="flex items-center justify-between">
                                <h2 class="text-lg font-semibold text-gray-900 -mt-1">{{book.title}} </h2>
                            </div>
                            <p class="text-gray-700">{{book.edition}}</p>
                            <p class="mt-3 text-gray-700 text-sm">
                                {{book.author}}
                            </p>

                            <div class="mt-4 flex items-center">
                                <div class="flex mr-2 text-gray-700 text-sm mr-4">
                                    <a @click.prevent="editBook(index)" href class="no-underline md:text-blue-dark flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-4 w-4 mr-1" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                        </svg>edit
                                    </a>
                                </div>
                                <div class="flex mr-2 text-gray-700 text-sm mr-4">
                                    <a @click.prevent="removeBook(index)" href class="no-underline md:text-blue-dark flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-4 w-4 mr-1" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>remove
                                    </a>
                                </div>
                                <div class="flex mr-2 text-gray-700 text-sm mr-4">
                                    <a :href="book.openUrl" class="no-underline md:text-blue-dark flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-4 w-4 mr-1" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                        </svg>view
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!--- First Image -->

</div>
</template>

<script>
/* eslint-disable */
import {
    ref
} from 'vue'
export default {
    setup() {

        const newBook = ref({
            'title': '',
            'edition': '',
            'author': '',
            'openUrl': ''
        })

        let updateIndex = null
        let isUpdate = ref(false)
        const books = ref([])

        const addNewBook = () => {
            books.value.push(newBook.value)
            newBook.value = {}
        }

        const removeBook = (index) => {
            books.value.splice(index, 1)
        }

        const editBook = (index) => {
            newBook.value = books.value[index]
            updateIndex = index
            isUpdate.value = true
        }

        const updateBook = () => {
            books.value[updateIndex] = newBook.value
            updateIndex = 0
            newBook.value = {}
            isUpdate.value = false
        }

        return {
            books,
            newBook: newBook,
            addNewBook,
            removeBook,
            editBook,
            updateBook,
            isUpdate
        }
    }
}
</script>

<style>

</style>
